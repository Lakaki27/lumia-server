{% extends 'base.html.twig' %}
{% import "_macros.twig" as macros %}

{% block body %}

<h1 class="text-3xl font-bold">Informations sur le rôle:
    <span class="text-(--lumia-gold)">
        {{ role.slug }}
    </span>
</h1>
<div class="flex flex-row h-full w-full">
    <div class="w-[75%] flex     h-full justify-center items-center">
        <div>
            <h3>
                Utilisateurs avec ce rôle:
            </h3>
            <div id="users">
                <input class="search mb-[1rem]" placeholder="Chercher" />

                <table class="min-w-40">
                    <thead class="bg-gray-600 text-white">
                        <th>Nom</th>
                        <th>Actions</th>
                    </thead>
                    <tbody class="list">
                        {% for user in users %}
                        <tr>
                            <td class="user-name border-solid border-1 border-gray-400">
                                {{ user.firstName }} {{ user.lastName }}
                            </td>
                            <td class="border-solid border-1 border-gray-400">
                                {{ macros.clickableBtn("/users", user.id) }}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="h-auto pl-5 border-l-1 border-l-solid border-l-gray-400">
        {{ form_start(roleForm) }}
        {{ form_row(roleForm.name, {label: "Nom interne"}) }}
        {{ form_row(roleForm.slug, {label: "Titre"}) }}

        {% for message in app.flashes('error') %}
        <div class="text-red-600">
            {{ message }}
        </div>
        {% endfor %}
        <button
            class="cursor-pointer flex items-center gap-2 min-h-[36px] min-w-[36px] text-center justify-center transition border-(--lumia-purple) border-1 bg-(--lumia-purple) px-2 py-1 rounded text-white hover:bg-white hover:border-(--lumia-gold) hover:text-(--lumia-gold)"
            type="submit">Mettre à jour</button>
        {{ form_end(roleForm) }}
    </div>
</div>

{% endblock body %}

{% block js %}
{{ encore_entry_script_tags("roles_details_js") }}
{% endblock js %}